(function(){window.ImageLazyLoad=(function(){a.prototype.version="1.0.0";a.prototype.options={range:200,elements:"img",container:"body",errorImage:"about:blank",mode:"vertical",realSrcAttribute:"data-src",fadeAtStart:true,afterImageLoaded:null,afterImageLoadError:null,defaultScrollTriggerDelay:150};
a.prototype.setOptions=function(b){var d,c;if(b==null){return;}for(d in b){if(b.hasOwnProperty(d)){this.options[d]=b[d];}}if(typeof this.options.errorImage==="string"){c=this.options.errorImage;
this.options.errorImage=new Image();return this.options.errorImage.src=c;}};function a(b){this.setOptions(b);this.$container=$(this.options.container);
this.$elements=this.$container.find(this.options.elements);this.axis=this.options.mode==="vertical"?"top":"left";this.container=this.options.container==="body"?$(window):this.$container;
this.containerSize=this.axis==="top"?this.container.height():this.container.width();this.refreshElements(this.containerSize);this.startListenOnScroll();
}a.prototype.startListenOnScroll=function(){var b=this;this.timer;return this.container.on("scroll.ImageLazyLoad",function(c){clearTimeout(b.timer);return b.timer=setTimeout(function(){return b.onScroll(c,b);
},b.options.defaultScrollTriggerDelay);});};a.prototype.refreshElements=function(b){var c=this;return this.$elements=this.$elements.map(function(f,g){var e,d;
e=$(g);if(c.options.fadeAtStart){e.css("opacity",0);}d=e.position()[c.axis];if(d<b+c.options.range){c.loadImage(e);return null;}else{return g;}});};a.prototype.loadImage=function(c){var b,d=this;
b=new Image();b.onload=function(){if(typeof d.options.afterImageLoaded==="function"){return d.options.afterImageLoaded(c,b.src);}else{c.attr("src",b.src);
if(d.options.fadeAtStart){return c.css("opacity",1);}}};b.onerror=function(){if(typeof d.options.afterImageLoadError==="function"){return d.options.afterImageLoadError(c,d.options.errorImage.src);
}else{c.attr("src",d.options.errorImage.src);if(d.options.fadeAtStart){return c.css("opacity",1);}}};return b.src=c.attr(this.options.realSrcAttribute);
};a.prototype.onScroll=function(c,b){var d;d=b.axis==="top"?b.container.scrollTop():b.container.scrollLeft();if(b.canLoading(d)){b.refreshElements(d+b.containerSize);
}if(b.$elements.length===0){return b.unbindEvents();}};a.prototype.canLoading=function(d){var b,c;c=d-this.options.range;b=poz+this.containerSize+this.options.range;
console.log([]);return true;};a.prototype.calculate=function(){};a.prototype.unbindEvents=function(){console.log("unbind");return this.container.off(".ImageLazyLoad");
};return a;})();}).call(this);