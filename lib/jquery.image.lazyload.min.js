(function(){(function(e){var d,f,c,a,g,b;a=function(h){if(h==="body"||(h=e("body"))){return e(window);}else{return e(h);}};f=function(h){if(h==="vertical"){return"top";
}else{return"left";}};d=function(h){return h.each(function(j,k){return e(k).css("opacity",0);});};g=function(h,i){if(h==="top"){return i.height();}else{return i.width();
}};c=function(h,i){if(h==="top"){return i.scrollTop();}else{return i.scrollLeft();}};b=function(j,k,l,h,i){if(j){return k<l+h+i;}else{return(l-i<k&&k<l+h+i);
}};e.imageLazyLoad=function(k,j){var l,i,n,h,m=this;this.version="1.0.2";this.options={};this.lastTopPosition=0;this.$container=null;this.$elements=[];
this.viewPort=null;this.viewPortSize=null;this.axis=null;this.$elements=function(){return this.options.$elements;};this.init=function(p,o){var q=this;this.options=e.extend({},e.imageLazyLoad.defaultOptions,o);
this.$container=p===window?e("body"):e(p);this.$elements=this.$container.find(this.options.elements);this.axis=f(this.options.mode);this.viewPort=a(this.$container);
this.viewPortSize=g(this.axis,this.viewPort);if(this.options.range==null){this.options.range=this.viewPortSize;}if(this.options.useFade){d(this.$elements);
}this.refreshLoader();h();if(this.options.autoUpdateOnWindowResize){return e(window).resize(function(){return q.refreshLoader();});}};h=function(){var o;
o=null;return m.viewPort.on("scroll.ImageLazyLoad",function(p){clearTimeout(o);return o=setTimeout(function(){return i(p,m);},m.options.defaultScrollTriggerDelay);
});};this.unbindEvents=function(){return this.viewPort.off(".ImageLazyLoad");};this.bindEvents=function(){return h();};this.loadAll=function(){var o=this;
this.$elements.each(function(p,q){return l(e(q));});this.$elements=[];return this.unbindEvents();};n=function(o,p){return p.$elements=p.$elements.map(function(s,t){var r,q;
r=e(t);q=r.position()[p.axis];if(b(m.options.loadingAtTopToEnd,q,o,m.viewPortSize,m.options.range)){return l(r);}else{return t;}});};l=function(p){var o;
o=new Image();o.onload=function(){if(typeof m.options.afterImageLoaded==="function"){return m.options.afterImageLoaded(p,o.src);}else{p.attr("src",o.src);
if(m.options.useFade){return p.css("opacity",1);}}};o.onerror=function(){if(typeof m.options.afterImageLoadError==="function"){return m.options.afterImageLoadError(p,m.options.errorImage.src);
}else{p.attr("src",m.options.errorImage.src);if(m.options.useFade){return p.css("opacity",1);}}};o.src=p.attr(m.options.realSrcAttribute);return null;};
i=function(p,o){var q;q=c(o.axis,o.viewPort);if(!o.options.loadingAtTopToEnd||q>=o.lastTopPosition){o.lastTopPosition=q;n(q,o);if(o.$elements.length===0){return o.unbindEvents();
}}};this.refreshLoader=function(){return i(null,m);};return this.init(k,j);};e.fn.imageLazyLoad=function(h){return new e.imageLazyLoad(this,h);};return e.imageLazyLoad.defaultOptions={range:null,elements:"img",errorImage:"about:blank",mode:"vertical",realSrcAttribute:"data-src",useFade:true,afterImageLoaded:null,afterImageLoadError:null,defaultScrollTriggerDelay:150,loadingAtTopToEnd:true,autoUpdateOnWindowResize:false};
})(jQuery);}).call(this);